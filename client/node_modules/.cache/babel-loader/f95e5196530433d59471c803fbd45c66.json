{"ast":null,"code":"document.addEventListener(\"DOMContentLoaded\", function () {\n  //api\n  const apiHeaders = {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\"\n  };\n\n  const get = url => {\n    return fetch(url).then(resp => resp.json());\n  };\n\n  const post = (url, data) => {\n    return fetch(url, {\n      method: \"POST\",\n      headers: apiHeaders,\n      body: JSON.stringify(data)\n    }).then(resp => resp.json());\n  };\n\n  const patch = (url, id, data) => {\n    return fetch(url + id, {\n      method: \"PATCH\",\n      headers: apiHeaders,\n      body: JSON.stringify(data)\n    }).then(resp => resp.json());\n  };\n\n  const destroy = (url, id) => {\n    return fetch(url + id, {\n      method: \"DELETE\"\n    }).then(resp => resp.json());\n  };\n\n  const API = {\n    get,\n    post,\n    patch,\n    destroy\n  }; //constants\n\n  const tasksUrl = \"http://localhost:3000/tasks/\";\n  const taskList = document.querySelector(\"#task-list\");\n  const completedList = document.querySelector(\"#completed-list\");\n  const taskForm = document.querySelector(\"#task-form\");\n  taskForm.addEventListener(\"submit\", e => {\n    e.preventDefault();\n    const newTask = {\n      title: e.target[0].value,\n      description: e.target[1].value\n    };\n    API.post(tasksUrl, newTask).then(returnedTask => newTaskCard(returnedTask));\n    newTask.reset();\n  }); //functions\n\n  const getAllTasks = () => {\n    API.get(tasksUrl).then(tasks => tasks.forEach(task => newTaskCard(task)));\n  };\n\n  const newTaskCard = task => {\n    const li = document.createElement(\"li\");\n    li.className = \"task-card\";\n    const h4 = document.createElement(\"h4\");\n    h4.innerText = task.title;\n    const p = document.createElement(\"p\");\n    p.innerText = task.description;\n    const editButton = document.createElement(\"button\");\n    editButton.className = \"btn btn-warning\";\n    editButton.id = \"edit-button\";\n    editButton.innerText = \"Edit\";\n    editButton.addEventListener(\"click\", e => {\n      e.preventDefault();\n      hiddenForm(task.id, task.title, task.description, p, h4, editButton);\n    });\n    const completeButton = document.createElement(\"button\");\n    completeButton.className = \"btn btn-success\";\n    completeButton.id = \"complete-button\";\n    completeButton.innerText = \"Complete\";\n    completeButton.addEventListener(\"click\", e => {\n      li.removeChild(editButton);\n      li.removeChild(completeButton);\n      deleteButton.className = \"btn btn-outline-danger\";\n      li.append(h4, p, deleteButton);\n      completedList.append(li);\n    });\n    const deleteButton = document.createElement(\"button\");\n    deleteButton.className = \"btn btn-danger\";\n    deleteButton.id = \"delete-button\";\n    deleteButton.innerText = \"Delete\";\n    deleteButton.addEventListener(\"click\", e => {\n      API.destroy(tasksUrl, task.id);\n      li.remove();\n    });\n    li.append(h4, p, completeButton, editButton, deleteButton);\n    taskList.append(li);\n  };\n\n  const hiddenForm = (id, title, description, p, h4, editButton) => {\n    if (p.children[0] instanceof HTMLFormElement) {\n      p.children[0].remove();\n    } else {\n      const hForm = document.createElement(\"form\");\n      const titleInput = document.createElement(\"input\");\n      titleInput.setAttribute(\"type\", \"text\", \"class\", \"form-control\", \"id\", \"edit-task-title\", \"placeholder\", \"Edit Title\");\n      titleInput.value = title;\n      const descriptionInput = document.createElement(\"input\");\n      descriptionInput.setAttribute(\"type\", \"text\", \"class\", \"form-control\", \"id\", \"edit-task-description\", \"placeholder\", \"Edit Description\");\n      descriptionInput.value = description;\n      editButton.className = \"btn btn-outline-warning\";\n      editButton.innerText = \"Confirm\";\n      editButton.addEventListener(\"click\", e => {\n        e.preventDefault();\n        const dataObj = {\n          title: titleInput.value,\n          description: descriptionInput.value\n        };\n        API.patch(tasksUrl, id, dataObj).then(task => {\n          h4.innerText = task.title;\n          p.innerText = task.description;\n        });\n      });\n      hForm.append(titleInput, descriptionInput);\n      p.append(hForm);\n    }\n  }; //call master function\n\n\n  getAllTasks();\n});","map":{"version":3,"names":["document","addEventListener","apiHeaders","Accept","get","url","fetch","then","resp","json","post","data","method","headers","body","JSON","stringify","patch","id","destroy","API","tasksUrl","taskList","querySelector","completedList","taskForm","e","preventDefault","newTask","title","target","value","description","returnedTask","newTaskCard","reset","getAllTasks","tasks","forEach","task","li","createElement","className","h4","innerText","p","editButton","hiddenForm","completeButton","removeChild","deleteButton","append","remove","children","HTMLFormElement","hForm","titleInput","setAttribute","descriptionInput","dataObj"],"sources":["/Users/isakkallenbach/Documents/projects/taskmaster/client/src/index.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\n    //api\n    const apiHeaders = {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n      };\n\n    const get = (url) => {\n        return fetch(url).then(resp => resp.json())\n    }\n\n    const post = (url, data) => {\n        return fetch(url, {\n          method: \"POST\",\n          headers: apiHeaders,\n          body: JSON.stringify(data)\n        }).then((resp) => resp.json());\n      };\n\n      const patch = (url, id, data) => {\n        return fetch(url + id, {\n            method: \"PATCH\",\n            headers: apiHeaders,\n            body: JSON.stringify(data)\n        }).then(resp => resp.json())\n     }\n\n    const destroy = (url, id) => {\n      return fetch(url + id, {\n        method: \"DELETE\"\n      }).then((resp) => resp.json())\n    }\n\n    const API = {get, post, patch, destroy}\n\n    //constants\n    const tasksUrl = \"http://localhost:3000/tasks/\"\n\n    const taskList = document.querySelector(\"#task-list\")\n    const completedList = document.querySelector(\"#completed-list\")\n    const taskForm = document.querySelector(\"#task-form\")\n    taskForm.addEventListener(\"submit\", (e) => {\n      e.preventDefault()\n      const newTask = {title: e.target[0].value, description: e.target[1].value}\n      API.post(tasksUrl, newTask).then(returnedTask =>\n          newTaskCard(returnedTask)\n        )\n        newTask.reset() \n      })\n\n      \n    \n\n    //functions\n    const getAllTasks = () => {\n        API.get(tasksUrl).then(tasks => tasks.forEach(task => newTaskCard(task)))\n    }\n\n    const newTaskCard = (task) => {\n        const li = document.createElement(\"li\")\n        li.className = \"task-card\"\n\n        const h4 = document.createElement(\"h4\")\n        h4.innerText = task.title\n\n        const p = document.createElement(\"p\")\n        p.innerText = task.description\n\n        \n\n        const editButton = document.createElement(\"button\")\n        editButton.className = \"btn btn-warning\"\n        editButton.id = \"edit-button\"\n        editButton.innerText = \"Edit\"\n        editButton.addEventListener(\"click\", (e) => {\n          e.preventDefault()\n          hiddenForm(task.id, task.title, task.description, p, h4, editButton)\n        })\n\n        const completeButton = document.createElement(\"button\")\n        completeButton.className = \"btn btn-success\"\n        completeButton.id = \"complete-button\"\n        completeButton.innerText = \"Complete\"\n        completeButton.addEventListener(\"click\", (e) => {\n          li.removeChild(editButton)\n          li.removeChild(completeButton)\n          deleteButton.className = \"btn btn-outline-danger\"\n          li.append(h4 , p, deleteButton)\n          completedList.append(li)\n        })\n\n        const deleteButton = document.createElement(\"button\")\n        deleteButton.className = \"btn btn-danger\"\n        deleteButton.id = \"delete-button\"\n        deleteButton.innerText = \"Delete\"\n        deleteButton.addEventListener(\"click\", (e) => {\n          API.destroy(tasksUrl, task.id)\n          li.remove()\n        })\n\n        li.append(h4, p, completeButton, editButton, deleteButton)\n\n        taskList.append(li)\n    }\n\n    const hiddenForm = (id, title, description, p, h4, editButton) => {\n      if (p.children[0] instanceof HTMLFormElement) {\n        p.children[0].remove()\n      } else {\n        const hForm = document.createElement(\"form\")\n      \n      const titleInput = document.createElement(\"input\")\n      titleInput.setAttribute(\"type\", \"text\", \"class\", \"form-control\", \"id\", \"edit-task-title\", \"placeholder\", \"Edit Title\")\n      titleInput.value = title\n\n      const descriptionInput = document.createElement(\"input\")\n      descriptionInput.setAttribute(\"type\", \"text\", \"class\", \"form-control\", \"id\", \"edit-task-description\", \"placeholder\", \"Edit Description\")\n      descriptionInput.value = description\n\n      editButton.className = \"btn btn-outline-warning\"\n      editButton.innerText = \"Confirm\"\n      editButton.addEventListener(\"click\", (e) => {\n        e.preventDefault()\n        const dataObj = {title: titleInput.value, description: descriptionInput.value}\n        API.patch(tasksUrl, id, dataObj).then(task => {\n          h4.innerText = task.title\n          p.innerText = task.description\n        })\n\n      })\n     \n      hForm.append(titleInput, descriptionInput)\n      p.append(hForm)\n      }\n      \n    }\n\n\n    //call master function\n    getAllTasks()\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}